"use strict";function $(a){return document.getElementById(a)}function createError(a,b){$(a).appendChild(document.createTextNode(b))}function buildOption(a){var b=document.createElement("Option"),c=document.createTextNode(a);return b.value=a,b.appendChild(c),b}function buildSelect(a,b,c,d){var e=$(a);return e.appendChild(buildOption(c)),b.reduce(function(a,b){return a.appendChild(buildOption(b)),a},e),e.addEventListener("change",d,!1),e}function generateTextElement(a,b){var c=document.createElement(a),d=document.createTextNode(b);return c.appendChild(d),c}function generateInput(a,b,c){var d=document.createElement("input");return d.type=a,d.name=b,d.setAttribute("class",c),d}function chooseCountry(){var a=$("post_code");this.value===ns.SPAIN?a.className=ns.CLASS_FORM:(a.lastElementChild.value="",a.lastElementChild.className="",a.className=ns.CLASS_NO_DISPLAY)}function resetForm(){ns.inputId.forEach(function(a){$(a).value="",$(a).className=""}),$("comments").value="",$("select_country").selectedIndex=0,$("check_buttom").checked=!1,$("error").className=ns.CLASS_NO_DISPLAY}function validateInput(a,b){""===b.value?b.className="":a.test(b.value)?b.className=ns.CLASS_VALID:b.className=ns.CLASS_INVALID}function validateName(){validateInput(ns.LAST_NAME_REG_EXP,this)}function validatePass(){validateInput(ns.PASS_REG_EXP,this)}function validateEmail(){validateInput(ns.EMAIL_REG_EXP,this)}function validateUrl(){validateInput(ns.URL_REG_EXP,this)}function validateStandard(){validateInput(ns.STANDARD_REG_EXP,this)}function validatePostCode(){validateInput(ns.POST_CODE_REG_EXP,this)}function validateConfirm(){var a=$("confirm");""===a.value?a.className="":a.value===$("password").value?a.className=ns.CLASS_VALID:a.className=ns.CLASS_INVALID}function validateForm(){var a;ns.inputId.forEach(function(a){$(a).focus()}),a=document.getElementsByClassName(ns.CLASS_INVALID),a.length?a[0].focus():$("error").className=ns.CLASS_NO_DISPLAY}function sendForm(){var a,b;validateForm(),b=ns.inputRequired.every(function(a){return $(a).className===ns.CLASS_VALID}),a=document.getElementsByClassName(ns.CLASS_INVALID),b&&0===a.length&&$("check_buttom").checked?document.forms[0].submit():$("error").className=ns.CLASS_FORM}function closePanel(){$("cookies").className=ns.CLASS_NO_DISPLAY}function startApp(){createError("nameEr",ns.ERR_LAST_NAME),createError("email_error",ns.ERR_EMAIL),createError("pass_error",ns.ERR_PASS),createError("confirm_error",ns.ERR_CONF_PASS),createError("url_error",ns.ERR_URL),createError("address_error",ns.ERR_ADDRESS),createError("post_code_error",ns.ERR_POST_CODE),buildSelect("select_country",ns.COUNTRIES,"",chooseCountry),$("name").addEventListener("keyup",validateName,!1),$("name").addEventListener("focus",validateName,!1),$("password").addEventListener("keyup",validatePass,!1),$("password").addEventListener("focus",validatePass,!1),$("email").addEventListener("keyup",validateEmail,!1),$("email").addEventListener("focus",validateEmail,!1),$("confirm").addEventListener("keyup",validateConfirm,!1),$("confirm").addEventListener("focus",validateConfirm,!1),$("address").addEventListener("keyup",validateStandard,!1),$("address").addEventListener("focus",validateStandard,!1),$("url").addEventListener("keyup",validateUrl,!1),$("url").addEventListener("focus",validateUrl,!1),$("code").addEventListener("keyup",validatePostCode,!1),$("code").addEventListener("focus",validatePostCode,!1),$("send").addEventListener("click",sendForm,!1),$("cookies_message").addEventListener("click",closePanel,!1),resetForm(),validateForm()}var ns=function(a){return a.ERR_LAST_NAME="Debe introducir su nombre y al menos un apellido",a.ERR_EMAIL="Debe introducir un correo valido",a.ERR_PASS="La contraseña debe tener al menos seis caracteres y una letra mayúscula, una letra minúscula, un número y un símbolo",a.ERR_CONF_PASS="La confirmación y la contraseña deben coincidir",a.ERR_URL="Debe introducir una URL válida",a.ERR_ADDRESS="Debe introducir una dirección válida",a.ERR_COUNTRY="Debe seleccionar un pais válido",a.ERR_POST_CODE="Debe introducir un código postal válido",a.COUNTRIES=["España","Francia","Portugal","Italia","Alemania"],a.SPAIN=a.COUNTRIES[0],a.LAST_NAME_REG_EXP=/^[a-zñ\-\'\.]+(?:\s[a-zñ\-\'\.]+)+$/i,a.EMAIL_REG_EXP=/^[\w.]+@[\w.]+\.[\w]{2,6}$/i,a.PASS_REG_EXP=/^.*(?=.{6,})(?!.*\s)(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\!\@\#\$\%\^\&\*\(\)\-\=\¡\£\_\+\`\~\.\,<\>\/\?\;\:\'\"\\\|\[\]\{\}]).*$/,a.URL_REG_EXP=/^[a-z]{2,}:([0-9]+|\/\/){1}[^\s]*$/i,a.STANDARD_REG_EXP=/^.+$/,a.POST_CODE_REG_EXP=/^([1-4][0-9]{4}|5[0-2][0-9]{3}|0[1-9][0-9]{3})$/,a.inputId=["name","email","password","confirm","url","address","code"],a.inputRequired=["name","email","password","confirm"],a.CLASS_VALID="valid",a.CLASS_INVALID="invalid",a.CLASS_NO_DISPLAY="no_display",a.CLASS_FORM="form_input",a}({});window.onload=startApp;